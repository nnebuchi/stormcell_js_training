<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <form action="/submit" onsubmit="event.preventDefault();validateForm();">
        <div class="col-md-6 p-5 text-white ">
            <div class="row  p-4 bg-primary">
                <div class="mb-3 ">
                    <label for="username" class="form-label">Username</label>
                    <input type="text" class="form-control" id="username" aria-describedby="username">
                    <span id="username-msg" class="text-danger validation-msg"></span>
                </div>
                <div class="mb-3 ">
                    <label for="email" class="form-label">Email address</label>
                    <input type="email" class="form-control" id="email" aria-describedby="emailHelp">
                    <span id="email-msg" class="text-danger validation-msg"></span>
                </div>
                <div class="mb-3">
                    <label for="InputPassword1" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password">
                    <span id="password-msg" class="text-danger validation-msg"></span>
                </div>
                <div>
                    <button type="submit" class="btn btn-danger">Submit</button>
                </div>
                    
            </div>
        </div>
    </form>

    

    <script>
        

        const validateForm = () =>{
        const username = document.querySelector("#username").value;
        const email = document.querySelector("#email").value;
        const password = document.querySelector("#password").value;

        document.querySelectorAll(".validation-msg").forEach(function(ele, index){
                ele.textContent = '';
            });

            document.querySelectorAll("input").forEach(function(input, index){
                input.style.border = "1px solid transparent"
            });

          if(username.length === 0){
                document.querySelector("#username-msg").textContent ="Username is required";
                document.querySelector("#username").style.border ="2px solid #dc3545";
                return;
            }

           
            if(!username || username.length < 4){
                document.querySelector("#username-msg").textContent ="Username must be at least 4 characters long";
                document.querySelector("#username").style.border ="2px solid #dc3545";
                return;
            }
            
            if(email.length === 0){
                document.querySelector("#email-msg").textContent ="Email is required";
                document.querySelector("#email").style.border ="2px solid #dc3545";
                return;
            }
           
             const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
              if(!emailRegex.test(email)){
                document.querySelector("#email-msg").textContent = "Please enter a valid email";
                document.querySelector("#email").style.border = "2px solid #dc3545";
                return;
              }
            
             
            if(password.length === 0){
                document.querySelector("#password-msg").textContent ="Password is required";
                document.querySelector("#password").style.border = "2px solid #dc3545";
                return;
            }

            if(!password || password.length < 8){
                document.querySelector("#password-msg").textContent = "Password must be at least 8 characters long"
                document.querySelector("#password").style.border = "2px solid #dc3545";
                return;
            }
            
            const specialCharsRegex = /[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
            if(!specialCharsRegex.test(password)){
                document.querySelector("#password-msg").textContent ="Password must have special character";
                document.querySelector("#password").style.border = "2px solid #dc3545";
                return; 
            }
            
        }










//         const registrationForm = document.getElementById('registration-form');

// registrationForm.addEventListener('submit', function(event) {
//   event.preventDefault();

//   const email = document.getElementById('email').value;
//   const username = document.getElementById('username').value;
//   const password = document.getElementById('password').value;

//    Email validation
//   if (!email || !isValidEmail(email)) {
//     alert('Please enter a valid email address');
//     return;
//   }

//   // Username validation
//   if (!username || username.length < 4) {
//     alert('Username must be at least 4 characters long');
//     return;
//   }

//   // Password validation
//   if (!password || password.length < 8 || !hasSpecialCharacters(password)) {
//     alert('Password must be at least 8 characters long and contain special characters');
//     return;
//   }

//   // Submit the form if all validation passed
//   registrationForm.submit();
// });

// function isValidEmail(email) {
//   // Use a regular expression to check if the email format is valid
//   const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
//   return emailRegex.test(email);
// }

// function hasSpecialCharacters(str) {
//   // Use a regular expression to check if the string contains special characters
//   const specialCharactersRegex = /[\!\@\#\$\%\^\&\*\(\)\_\+\.\,\;\:]/;
//   return specialCharactersRegex.test(str);
// }
      </script>
</body>
</html>